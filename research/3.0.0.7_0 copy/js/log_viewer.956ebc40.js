(function(e){function t(t){for(var s,o,i=t[0],r=t[1],c=t[2],u=0,f=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&f.push(n[o][0]),n[o]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s]);g&&g(t);while(f.length)f.shift()();return l.push.apply(l,c||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],s=!0,i=1;i<a.length;i++){var r=a[i];0!==n[r]&&(s=!1)}s&&(l.splice(t--,1),e=o(o.s=a[0]))}return e}var s={},n={log_viewer:0},l=[];function o(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=s,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(a,s,function(t){return e[t]}.bind(null,s));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],r=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var g=r;l.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("f149")},"0e45":function(e,t,a){},"12bd":function(e,t,a){"use strict";var s=a("4b23"),n=a.n(s);n.a},"2b38":function(e,t,a){},4678:function(e,t,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=l(e);return a(t)}function l(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}n.keys=function(){return Object.keys(s)},n.resolve=l,e.exports=n,n.id="4678"},"4b23":function(e,t,a){},9053:function(e,t,a){"use strict";var s=a("0e45"),n=a.n(s);n.a},ab09:function(e,t,a){"use strict";var s=a("9f12"),n=a("53fe"),l=a("8b83"),o=a("c65a"),i=a("c03e"),r=a("9ab4"),c=a("2fe1"),g=a("60a3"),u=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(l["a"])(this,Object(o["a"])(t).apply(this,arguments)),e.message="",e.snackbar=!1,e.timeout=2e3,e.y="top",e.x="",e.mode="multi-line",e}return Object(i["a"])(t,e),Object(n["a"])(t,[{key:"flashMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500;this.message=e,this.timeout=t,this.snackbar=!0}}]),t}(g["c"]);u=Object(r["a"])([c["b"]],u),t["a"]=u},cf05:function(e,t,a){e.exports=a.p+"img/logo.cd2c695a.png"},e74f:function(e,t,a){"use strict";var s=a("2b38"),n=a.n(s);n.a},f149:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("v-navigation-drawer",{attrs:{app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[s("side-navigation")],1),s("v-toolbar",{attrs:{app:"",dense:"",dark:"",flat:"",color:"primary"}},[s("v-toolbar-side-icon",{on:{click:function(t){return t.stopPropagation(),e.toggleDrawer()}}}),s("v-spacer"),s("v-btn",{attrs:{flat:"",href:"http://bigtools.piercewashington.com",target:"bigToolsAdmin"}},[e._v("BigTools "),s("img",{attrs:{id:"bt-logo",src:a("cf05")}})])],1),s("v-content",[s("v-container",{attrs:{fluid:""}},[s("router-view")],1)],1)],1)},l=[],o=a("9f12"),i=a("53fe"),r=a("8b83"),c=a("c65a"),g=a("c03e"),u=a("9ab4"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-toolbar",{attrs:{dense:"",dark:"",flat:"",color:"primary"}},[a("v-toolbar-title",[e._v(" CPQ Log Viewer ")])],1),a("v-list",{attrs:{dense:""}},e._l(Array.from(e.logFiles),(function(t){return a("v-list-tile",{key:t[0],attrs:{ripple:"",to:"/bmLog/"+e.site+"/"+t[0]}},[a("v-list-tile-title",[a("v-icon",{attrs:{small:""}},[e._v("format_list_bulleted")]),e._v(" "+e._s(t[0])+" ")],1)],1)})),1)],1)},d=[],p=(a("4ec9"),a("d3b7"),a("3ca3"),a("ddb0"),a("2fe1")),b=a("60a3"),h=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(r["a"])(this,Object(c["a"])(t).call(this)),e.site="",e.logFiles=new Map,e}return Object(g["a"])(t,e),Object(i["a"])(t,[{key:"mounted",value:function(){var e="site";this.site=this.$router.currentRoute.params[e],this.logFiles=this.$store.state.logFiles}}]),t}(b["c"]);h=Object(u["a"])([Object(p["b"])({name:"SideNavigation"})],h);var v=h,m=v,j=(a("12bd"),a("2877")),y=Object(j["a"])(m,f,d,!1,null,null,null),k=y.exports,x=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(r["a"])(this,Object(c["a"])(t).call(this)),e.drawer=!0,e}return Object(g["a"])(t,e),Object(i["a"])(t,[{key:"toggleDrawer",value:function(){this.drawer=!this.drawer}}]),t}(b["c"]);x=Object(u["a"])([Object(p["b"])({components:{SideNavigation:k}})],x);var O=x,w=O,_=(a("9053"),Object(j["a"])(w,n,l,!1,null,null,null)),M=_.exports,L=(a("bf40"),a("ce5b")),C=a.n(L),E=a("8c4f"),P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{"pa-1":"","ma-1":"",fluid:"",id:"bm-log"}},[a("v-layout",[a("v-flex",[a("h2",[a("v-icon",[e._v("format_list_bulleted")]),e._v(" Log file: "+e._s(e.logFile)+" for "+e._s(e.site)+" ")],1),a("v-divider"),a("div",{staticClass:"text-xs-center pt-2",attrs:{id:"page-control"}},[a("v-pagination",{attrs:{length:e.pages},model:{value:e.pagination.page,callback:function(t){e.$set(e.pagination,"page",t)},expression:"pagination.page"}}),a("v-text-field",{staticClass:"serach",attrs:{"append-icon":"search",label:"Enter search terms separated by ','"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{attrs:{search:e.search,headers:e.headers,items:e.logEntries,"custom-filter":e.customFilter,pagination:e.pagination,"rows-per-page-items":[250,500,1e3,2e3,5e3]},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"headers",fn:function(t){return[a("tr",e._l(t.headers,(function(t){return a("th",{key:t.key,class:["column",{sortable:t.sortable,asc:t.sortable&&!e.pagination.descending,desc:t.sortable&&e.pagination.descending,active:t.sortable&&t.value===e.pagination.sortBy}],on:{click:function(a){t.sortable&&e.changeSort(t.value)}}},[t.sortable?a("v-icon",{attrs:{small:""}},[e._v("arrow_upward")]):e._e(),e._v(" "+e._s(t.text)+" ")],1)})),0),a("tr",e._l(t.headers,(function(t){return a("th",{key:t.key},[e.filters.hasOwnProperty(t.value)?a("div",[a("v-select",{attrs:{flat:"","hide-details":"",small:"",multiple:"",clearable:"",items:e.getFilterList(t.value)},model:{value:e.filters[t.value],callback:function(a){e.$set(e.filters,t.value,a)},expression:"filters[header.value]"}})],1):e._e()])})),0)]}},{key:"items",fn:function(t){return e._l(e.headers,(function(s){return a("td",{key:s.key,staticClass:"text-xs-left align-top",class:[s.class,{collapsed:t.item.collapsed}]},[a("div",{staticClass:"cell-container"},[a("div",{staticClass:"cell-inner"},[e._v(e._s("json"===t.item.dataType&&"logMessage"==s.value?JSON.stringify(JSON.parse(t.item[s.value]),null,2):t.item[s.value]))]),"logMessage"===s.value&&t.item.collapsed?a("div",{staticClass:"cell-overflow"},[a("v-btn",{staticClass:"expand-button",attrs:{fab:"",small:"",color:"red accent-2",bottom:"",absolute:""},on:{click:function(a){return e.expand(t.item)}}},[a("v-icon",[e._v("unfold_more")])],1)],1):e._e(),"logMessage"===s.value?a("div",{staticClass:"cell-copy"},[a("v-btn",{staticClass:"copy-button",attrs:{fab:"",small:"",color:"grey accent-2",right:"",absolute:""},on:{click:function(a){return e.copyMessage(t.item)}}},[a("v-icon",[e._v("file_copy")])],1)],1):e._e()])])}))}}])}),a("v-snackbar",{attrs:{dark:"",bottom:"bottom"===e.y,left:"left"===e.x,"multi-line":"multi-line"===e.mode,right:"right"===e.x,timeout:e.timeout,top:"top"===e.y,vertical:"vertical"===e.mode},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.message)+" "),a("v-btn",{attrs:{secondary:"",flat:""},on:{click:function(t){e.snackbar=!1}}},[e._v("Close")])],1)],1)],1)],1)},S=[],F=(a("a4d3"),a("e01a"),a("d28b"),a("4de4"),a("c975"),a("d81d"),a("0d03"),a("ac1f"),a("25f0"),a("6062"),a("841c"),a("1276"),a("2ca0"),a("498a"),a("284c")),T=a("1157"),z=a.n(T),D=(a("99af"),a("a434"),a("4d63"),a("466d"),a("5319"),a("82c7")),Y=a("c1df"),R=a.n(Y),I=a("e9b9"),A=a("d3fb"),N=a("f74f"),$=12500,W=function(){function e(t){Object(o["a"])(this,e),this.options=t}return Object(i["a"])(e,[{key:"getLogEntries",value:function(e,t){var a=this,s=this.getLogFileUrl(e,t);return I["a"].create((function(e){a.getLogFileContent(s).then((function(t){var s=t.match(a.options.matchExpr)||[],n=t.split(new RegExp(a.options.splitExpr));if(""===n[0]&&n.splice(0,1),n.length>$&&a.options.truncateLog){var l=n.length-$;n.splice(0,l),s.splice(0,l)}var o=Object(A["a"])(n),i=Object(A["a"])(s);Object(N["a"])(i,o).subscribe((function(t){var s=t[0],n="",l=s;if(a.options.hasLogType){var o=s.indexOf("[");n=s.substr(o,s.length).trim(),l=s.substring(0,o-1)}var i=R()(l,a.options.timestampFormat);e.next({timestamp:i.format("YYYY-MM-DD HH:mm:ss.SSS"),logType:n,logMessage:t[1].toString().replace(/,/g,", ").replace(/:/g,": ").replace("<br />","")})})),e.complete()})).catch((function(t){e.error(t)}))}))}},{key:"getLogFileContent",value:function(e){var t=this;return new Promise((function(a,s){z.a.ajax({url:e,success:function(e){var n=-1,l=-1;"SERVER"===t.options.logType?(n=e.indexOf(">",e.indexOf("<textarea ")+1)+1,l=e.indexOf("</textarea>")):(n=e.indexOf(">",e.indexOf("<div style='text-align:left;height:400;width:700")+1)+1,l=e.indexOf("</div>",n)),(n<0||l<0)&&s("Cannot load log file. Make sure you are logged in and the session is still valid.");var o=(new D["XmlEntities"]).decode(e.substring(n,l)).replace(/\n/,"<br />");a(o)}})}))}},{key:"getLogFileUrl",value:function(e,t){if("localhost"===t)return"http://localhost:8080/test_data/bm.log";if("ADMIN"===this.options.logType){var a="MM/DD/YYYY",s=R()().format(a),n=R()(R.a.now()-2592e6).format(a);return"https://".concat(t,".bigmachines.com/adminaudit/view_admin_logs.jsp?formaction=&monthSelected=1&searchType=1&startDate=").concat(encodeURIComponent(n),"&endDate=").concat(encodeURIComponent(s))}return"https://".concat(t,".bigmachines.com/admin/log/log_file.jsp?fileName=").concat(e)}}]),e}(),B=a("ab09"),H=a("6338"),U=" - __PWLOG__",J=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(r["a"])(this,Object(c["a"])(t).call(this)),e.headers=[{text:"Date",value:"timestamp",align:"left",sortable:!0,key:"timestamp",class:"log-timestamp"},{text:"Type",value:"logType",align:"left",sortable:!0,key:"logType",class:"log-type"},{text:"Category",value:"category",align:"left",sortable:!0,key:"category",class:"log-category"},{text:"Level",value:"level",align:"left",sortable:!0,key:"level",class:"log-level"},{text:"Label",value:"label",align:"left",sortable:!0,key:"label",class:"log-label"},{text:"Message",value:"logMessage",align:"left",sortable:!1,key:"logMessage",class:"log-msg"}],e.logEntries=[],e.hasPWLog=!1,e.logEntryMap={},e.pagination={page:1,rowsPerPage:250,totalItems:0},e.search="",e.pages=0,e.site="",e.logFile="",e.logFileServiceOptions={},e.logFileServiceConfig=new Map,e.filters={logType:[],category:[],level:[],label:[]},e}return Object(g["a"])(t,e),Object(i["a"])(t,[{key:"filteredEntries",value:function(e){var t=this,a=[],s=!1;for(var n in this.filters)if(this.filters[n].length>0){s=!0;break}return a=s?e.filter((function(e){for(var a in t.filters)if(t.filters[a].length>0&&t.filters[a].indexOf(e[a])>-1)return!0;return!1})):e,this.pagination.totalItems=a.length,null==this.pagination.rowsPerPage||null==this.pagination.totalItems?this.pages=0:this.pages=Math.ceil(this.pagination.totalItems/this.pagination.rowsPerPage),a}},{key:"customFilter",value:function(e,t,a){t=t.toString().toLowerCase();var s=e.filter((function(e){var a=t.split(","),s=!0,n=!1,l=void 0;try{for(var o,i=a[Symbol.iterator]();!(s=(o=i.next()).done);s=!0){var r=o.value;if(r=r.trim(),e.timestamp.indexOf(r)>-1||e.logType&&e.logType.toLowerCase().indexOf(r)>-1||e.logMessage&&e.logMessage.toLowerCase().indexOf(r)>-1)return!0}}catch(c){n=!0,l=c}finally{try{s||null==i.return||i.return()}finally{if(n)throw l}}}));return this.filteredEntries(s)}},{key:"onPropertyChanged",value:function(e,t){var a=this;setTimeout((function(){null==a.pagination.rowsPerPage||null==a.pagination.totalItems?a.pages=0:a.pages=Math.ceil(a.pagination.totalItems/a.pagination.rowsPerPage)}),1e3)}},{key:"onRouteChanged",value:function(e,t){this.refreshLog()}},{key:"onPaintAreaChanged",value:function(){var e=z()("#page-control");if(window.scrollY>65){var t=z()("#bm-log .layout");e.addClass("fixed-page-control"),e.css("width",t.innerWidth()||0)}else e.removeClass("fixed-page-control")}},{key:"refreshLog",value:function(){var e=this,t=this.$router.currentRoute.params,a="site",s="logFile";this.site=t[a],this.logFile=t[s],this.logFileServiceOptions=this.logFileServiceConfig.get(this.logFile),this.logFileServiceOptions||(this.logFileServiceOptions=this.logFileServiceConfig.get("bm.log"));var n=new W(this.logFileServiceOptions);this.logEntries=[];var l=n.getLogEntries(this.logFile,this.site);l.subscribe((function(t){e.handleLogEntry(t),e.pagination.totalItems=e.logEntries.length,null==e.pagination.rowsPerPage||null==e.pagination.totalItems?e.pages=0:e.pages=Math.ceil(e.pagination.totalItems/e.pagination.rowsPerPage),e.logFileServiceOptions.defaultPageNumber?e.pagination.page=1:e.pagination.page=e.pages,console.log(e.pages)}),(function(t){e.flashMessage(t,2500)}),(function(){e.flashMessage("Log file load complete.",1500)})),this.hasPWLog||this.logFileServiceOptions.hasLogType?this.hasPWLog||(this.headers=[{text:"Date",value:"timestamp",align:"left",sortable:!1,key:"timestamp",class:"log-timestamp"},{text:"Type",value:"logType",align:"left",sortable:!1,key:"logType",class:"log-type"},{text:"Message",value:"logMessage",align:"left",sortable:!1,key:"logMessage",class:"log-msg"}]):this.headers=[{text:"Date",value:"timestamp",align:"left",sortable:!1,key:"timestamp",class:"log-timestamp"},{text:"Message",value:"logMessage",align:"left",sortable:!1,key:"logMessage",class:"log-msg"}]}},{key:"handleLogEntry",value:function(e){var t=e;if("[BMLPRINT]"===t.logType&&t.logMessage.startsWith(U)){t.logType="PW_LOG";var a=JSON.parse(t.logMessage.substring(U.length));a.isLast;if(a.isContinued&&a.isFirst)this.logEntryMap[a.key]=this.logEntries.length,t.collapsed=!0;else if(a.isContinued||a.isLast)return void(this.logEntries[this.logEntryMap[a.key]].logMessage=this.logEntries[this.logEntryMap[a.key]].logMessage+a.logMessage);z.a.extend(t,a),this.hasPWLog||(this.hasPWLog=!0,this.headers=[{text:"Date",value:"timestamp",align:"left",sortable:!0,key:"timestamp",class:"log-timestamp"},{text:"Type",value:"logType",align:"left",sortable:!0,key:"logType",class:"log-type"},{text:"Category",value:"category",align:"left",sortable:!0,key:"category",class:"log-category"},{text:"Level",value:"level",align:"left",sortable:!0,key:"level",class:"log-level"},{text:"Label",value:"label",align:"left",sortable:!0,key:"label",class:"log-label"},{text:"Message",value:"logMessage",align:"left",sortable:!1,key:"logMessage",class:"log-msg"}])}else t.logType;t.logMessage.length>500&&(t.collapsed=!0),this.logEntries.push(t)}},{key:"expand",value:function(e){e.collapsed=!1}},{key:"created",value:function(){window.document.addEventListener("scroll",this.onPaintAreaChanged)}},{key:"destroyed",value:function(){var e=z()("#bm-log .layout");e.off("resize",this.onPaintAreaChanged),window.document.removeEventListener("scroll",this.onPaintAreaChanged)}},{key:"mounted",value:function(){var e=z()("#bm-log .layout");new H["ResizeObserver"](this.onPaintAreaChanged).observe(e.get(0)),e.on("resize",this.onPaintAreaChanged),this.logFileServiceConfig=this.$store.state.logFiles,this.refreshLog()}},{key:"getFilterList",value:function(e){return Object(F["a"])(new Set(this.logEntries.map((function(t){return t[e]||"[Blank]"}))))}},{key:"changeSort",value:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)}},{key:"copyMessage",value:function(e){var t=document.createElement("textarea");t.value=e.logMessage,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy")&&this.flashMessage("Content copied successfully.",1e3),document.body.removeChild(t)}}]),t}(Object(p["c"])(B["a"]));Object(u["a"])([Object(b["d"])("search")],J.prototype,"onPropertyChanged",null),Object(u["a"])([Object(b["d"])("$route")],J.prototype,"onRouteChanged",null),J=Object(u["a"])([Object(p["b"])({name:"BmLog",components:{}})],J);var G=J,V=G,q=(a("e74f"),Object(j["a"])(V,P,S,!1,null,"5f5ffb8e",null)),Q=q.exports;s["default"].use(E["a"]);var X=new E["a"]({base:"/",routes:[{path:"/bmLog/:site/:logFile",name:"bmLog",component:Q}]}),K=a("2f62");s["default"].use(K["a"]);var Z={matchExpr:/\d+\s\w+\s\d+\s\d+:\d+:\d+,\d+\s\[\w+\]\s/g,splitExpr:/\d+\s\w+\s\d+\s\d+:\d+:\d+,\d+\s\[\w+\]\s/,hasLogType:!0,timestampFormat:"DD MMM YYYY HH:mm:ss,SSS",logType:"SERVER",truncateLog:!0},ee={matchExpr:/\w+\s\d+,\s\d+\s\d+:\d+:\d+\s\w+/g,splitExpr:/\w+\s\d+,\s\d+\s\d+:\d+:\d+\s\w+/,hasLogType:!1,timestampFormat:"MMM DD, YYYY H:m:s A",logType:"SERVER",truncateLog:!0},te={matchExpr:/\d+\/\d+\/\d+\s\d+:\d+\s\w+/g,splitExpr:/\son\s\d+\/\d+\/\d+\s\d+:\d+\s\w+\<BR\/\>/,hasLogType:!1,timestampFormat:"MM/DD/YYYY H:m A",logType:"ADMIN",defaultPageNumber:1,truncateLog:!1},ae=new K["a"].Store({state:{logFiles:new Map([["bm.log",Z],["bm.log.1",Z],["printserver_stdout_dd.log",ee],["printserver_stdout.log",ee],["slow_thread_executions.log",Z],["bm-perf.log",Z],["bm-perf.log.1",Z],["admin_log",te]])},mutations:{},actions:{}});s["default"].config.productionTip=!1,s["default"].use(C.a),new s["default"]({router:X,store:ae,render:function(e){return e(M)}}).$mount("#app")}});
//# sourceMappingURL=log_viewer.956ebc40.js.map