(function(e){function t(t){for(var a,i,c=t[0],o=t[1],u=t[2],f=0,p=[];f<c.length;f++)i=c[f],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);l&&l(t);while(p.length)p.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,c=1;c<r.length;c++){var o=r[c];0!==n[o]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},n={transaction_viewer:0},s=[];function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=o;s.push([4,"chunk-vendors"]),r()})({"0964":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));r("a4d3"),r("e01a"),r("d28b"),r("4160"),r("d3b7"),r("ac1f"),r("3ca3"),r("1276"),r("159b"),r("ddb0"),r("96cf");var a=r("9f12"),n=r("53fe"),s=function(){function e(){Object(a["a"])(this,e)}return Object(n["a"])(e,[{key:"getPreferences",value:function(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(new Promise((function(t,r){chrome.storage.sync.get(e,(function(e){var r=e;t(r)}))})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}},{key:"setPreferences",value:function(e){chrome.storage.sync.set(e)}},{key:"getProcessDetails",value:function(e,t){var r,a,n,s,i,c,o,u,l,f,p;return regeneratorRuntime.async((function(d){while(1)switch(d.prev=d.next){case 0:return d.next=2,regeneratorRuntime.awrap(this.getPreferences({commerceProcessVarNames:""}));case 2:r=d.sent,a=r.commerceProcessVarNames.split("\n"),n=t.split(".")[0],s={},i=!0,c=!1,o=void 0,d.prev=9,u=a[Symbol.iterator]();case 11:if(i=(l=u.next()).done){d.next=20;break}if(f=l.value,p=f.split(":"),5!==p.length||p[1]!==e&&p[2]!==e||p[0]!==n){d.next=17;break}return s={site:p[0],processId:p[1],processVarName:p[2],transactionVarName:p[3],transactionLineVarName:p[4]},d.abrupt("break",20);case 17:i=!0,d.next=11;break;case 20:d.next=26;break;case 22:d.prev=22,d.t0=d["catch"](9),c=!0,o=d.t0;case 26:d.prev=26,d.prev=27,i||null==u.return||u.return();case 29:if(d.prev=29,!c){d.next=32;break}throw o;case 32:return d.finish(29);case 33:return d.finish(26);case 34:return d.abrupt("return",s);case 35:case"end":return d.stop()}}),null,this,[[9,22,26,34],[27,,29,33]])}},{key:"convertProcessDetailsToJson",value:function(e){var t=e.split("\n"),r=new Array;return t.forEach((function(e){var t=e.split(":");5===t.length&&r.push({site:t[0],processId:t[1],processVarName:t[2],transactionVarName:t[3],transactionLineVarName:t[4]})})),r}}]),e}()},"1fb7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-navigation-drawer",{attrs:{app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("side-navigation")],1),a("v-toolbar",{attrs:{app:"",dense:"",dark:"",flat:"",color:"primary"}},[a("v-toolbar-side-icon",{on:{click:function(t){return t.stopPropagation(),e.toggleDrawer()}}}),a("v-spacer"),a("v-btn",{attrs:{flat:"",href:"http://bigtools.piercewashington.com",target:"bigToolsAdmin"}},[e._v("BigTools "),a("img",{attrs:{id:"bt-logo",src:r("cf05")}})])],1),a("v-content",[a("v-container",{attrs:{fluid:""}},[a("router-view")],1)],1)],1)},s=[],i=r("9f12"),c=r("53fe"),o=r("8b83"),u=r("c65a"),l=r("c03e"),f=r("9ab4"),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-toolbar",{attrs:{dense:"",dark:"",flat:"",color:"primary"}},[r("v-toolbar-title",[e._v(" CPQ Transaction Viewer ")])],1),r("v-list",{attrs:{dense:""}},[r("v-list-tile",{attrs:{ripple:"",to:"/transactionHeader/"+e.site+"/"+e.processId+"/"+e.bsId}},[r("v-list-tile-title",[r("v-icon",{attrs:{small:""}},[e._v("attach_money")]),e._v(" Transaction Header")],1)],1),r("v-list-tile",{attrs:{ripple:"",to:"/transactionLines/"+e.site+"/"+e.processId+"/"+e.bsId}},[r("v-list-tile-title",[r("v-icon",{attrs:{small:""}},[e._v("format_list_numbered")]),e._v(" Transaction Lines")],1)],1)],1)],1)},d=[],h=r("2fe1"),v=r("60a3"),m=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(o["a"])(this,Object(u["a"])(t).call(this)),e.site="",e.bsId="",e.processId="",e}return Object(l["a"])(t,e),Object(c["a"])(t,[{key:"mounted",value:function(){var e="site",t="bsId",r="processId";this.site=this.$router.currentRoute.params[e],this.bsId=this.$router.currentRoute.params[t],this.processId=this.$router.currentRoute.params[r]}}]),t}(v["c"]);m=Object(f["a"])([Object(h["b"])({name:"SideNavigation"})],m);var b=m,g=b,w=(r("efd1"),r("2877")),y=Object(w["a"])(g,p,d,!1,null,null,null),x=y.exports,_=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(o["a"])(this,Object(u["a"])(t).call(this)),e.drawer=!0,e}return Object(l["a"])(t,e),Object(c["a"])(t,[{key:"toggleDrawer",value:function(){this.drawer=!this.drawer}}]),t}(v["c"]);_=Object(f["a"])([Object(h["b"])({components:{SideNavigation:x}})],_);var j=_,O=j,k=(r("3b34"),Object(w["a"])(O,n,s,!1,null,null,null)),I=k.exports,N=(r("bf40"),r("ce5b")),P=r.n(N),R=r("8c4f"),T=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{"pa-1":"","ma-1":"",fluid:"",id:"transaction-header"}},[r("v-layout",[r("v-flex",[r("h2",[r("v-icon",[e._v("attach_money")]),e._v(" Transaction Header: bsId = "+e._s(e.bsId)+"; site = "+e._s(e.site)+" ")],1),r("v-divider"),r("v-flex",{staticClass:"mt4",attrs:{xs12:"",sm8:"",md4:"",lg3:"","offset-sm4":"","offset-md8":"","offset-lg9":""}},[r("v-text-field",{staticClass:"pl-4 pr-4",attrs:{label:"Enter search terms separated by ','"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),r("v-data-table",{attrs:{id:"transaction-data",search:e.search,headers:e.headers,items:e.items,"custom-filter":e.customFilter,pagination:e.pagination,"rows-per-page-items":[250,500,1e3,2e3,5e3]},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[r("td",{staticClass:"text-xs-left align-top varName"},[e._v(e._s(t.item.varName))]),r("td",{staticClass:"text-xs-left align-top value"},[r("div",{domProps:{innerHTML:e._s(t.item.value)}})])]}}])})],1)],1)],1)},L=[],S=(r("a4d3"),r("e01a"),r("d28b"),r("4de4"),r("4160"),r("c975"),r("0d03"),r("b64b"),r("d3b7"),r("ac1f"),r("25f0"),r("3ca3"),r("841c"),r("1276"),r("498a"),r("159b"),r("ddb0"),r("96cf"),r("9aac")),V=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(o["a"])(this,Object(u["a"])(t).call(this)),e.headers=[{text:"Variable Name ",value:"varName",align:"left",sortable:!0},{text:"Value",value:"value",align:"left",sortable:!1}],e.pagination={page:1,rowsPerPage:5e3,totalItems:0},e.search="",e.pages=0,e.site="",e.bsId="",e.processId="",e.items=[],e}return Object(l["a"])(t,e),Object(c["a"])(t,[{key:"customFilter",value:function(e,t,r){return t=t.toString().toLowerCase(),e.filter((function(e){var r=t.split(","),a=!0,n=!1,s=void 0;try{for(var i,c=r[Symbol.iterator]();!(a=(i=c.next()).done);a=!0){var o=i.value;if(o=o.trim(),e.varName.toLowerCase().indexOf(o)>-1||e.value&&JSON.stringify(e.value).toLowerCase().indexOf(o)>-1)return!0}}catch(u){n=!0,s=u}finally{try{a||null==c.return||c.return()}finally{if(n)throw s}}}))}},{key:"mounted",value:function(){var e,t,r,a,n,s,i=this;return regeneratorRuntime.async((function(c){while(1)switch(c.prev=c.next){case 0:return e=this.$router.currentRoute.params,t="site",r="bsId",a="processId",this.site=e[t],this.bsId=e[r],this.processId=e[a],n=new S["a"](this.site),c.next=10,regeneratorRuntime.awrap(n.getTransaction(this.bsId,this.processId));case 10:s=c.sent,Object.keys(s).forEach((function(e){i.items.push({varName:e,value:s[e]})}));case 12:case"end":return c.stop()}}),null,this)}}]),t}(v["c"]);V=Object(f["a"])([Object(h["b"])({name:"TransactionHeader"})],V);var C=V,H=C,E=(r("a180"),Object(w["a"])(H,T,L,!1,null,null,null)),$=E.exports,D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{"pa-1":"","ma-1":"",fluid:"",id:"transaction-lines"}},[r("v-layout",[r("v-flex",[r("h2",[r("v-icon",[e._v("format_list_numbered")]),e._v(" Transaction Lines: bsId = "+e._s(e.bsId)+"; site = "+e._s(e.site))],1),r("v-divider"),r("v-flex",{staticClass:"mt4",attrs:{xs12:"",sm8:"",md4:"",lg3:"","offset-sm4":"","offset-md8":"","offset-lg9":""}},[r("v-text-field",{staticClass:"pl-4 pr-4",attrs:{label:"Enter search terms separated by ','"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),r("v-data-table",{attrs:{id:"transaction-data",search:e.search,"custom-filter":e.customFilter,headers:e.headers,items:e.items,pagination:e.pagination,"rows-per-page-items":[250,500,1e3,2e3,5e3]},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[r("td",{staticClass:"text-xs-left align-top varName"},[e._v(e._s(t.item.varName))]),e._l(Object.keys(t.item),(function(a){return"varName"!==a?r("td",{key:a,staticClass:"text-xs-left align-top value",attrs:{title:"item["+a+"]."+t.item.varName}},[r("div",[e._v(e._s(t.item[a]))])]):e._e()}))]}}])})],1)],1)],1)},U=[],z=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(o["a"])(this,Object(u["a"])(t).call(this)),e.site="",e.bsId="",e.processId="",e.items=[],e.headers=[],e.search="",e.pagination={page:1,rowsPerPage:5e3,totalItems:0},e.pages=0,e}return Object(l["a"])(t,e),Object(c["a"])(t,[{key:"customFilter",value:function(e,t,r){return t=t.toString().toLowerCase(),e.filter((function(e){var r=t.split(","),a=!0,n=!1,s=void 0;try{for(var i,c=r[Symbol.iterator]();!(a=(i=c.next()).done);a=!0){var o=i.value;if(o=o.trim(),e.varName.toLowerCase().indexOf(o)>-1)return!0}}catch(u){n=!0,s=u}finally{try{a||null==c.return||c.return()}finally{if(n)throw s}}}))}},{key:"mounted",value:function(){var e,t,r,a,n,s,i,c,o=this;return regeneratorRuntime.async((function(u){while(1)switch(u.prev=u.next){case 0:return e=this.$router.currentRoute.params,t="site",r="bsId",a="processId",this.site=e[t],this.bsId=e[r],this.processId=e[a],n=new S["a"](this.site),u.next=10,regeneratorRuntime.awrap(n.getTransactionLines(this.bsId,this.processId));case 10:s=u.sent,s.items.length>0&&(i=s.items[0],c=Object.keys(i),c.forEach((function(e,t){var r={};r.varName=e,0===o.headers.length&&o.headers.push({text:"Variable Name",value:"varName",align:"left",sortable:!0}),s.items.forEach((function(a,n){0===t&&o.headers.push({text:a._document_number,value:a._document_number,align:"center",sortable:!0}),r[a._document_number]=a[e]})),o.items.push(r)})));case 12:case"end":return u.stop()}}),null,this)}}]),t}(v["c"]);z=Object(f["a"])([Object(h["b"])({name:"TransactionLines"})],z);var M=z,F=M,J=(r("8b6a"),Object(w["a"])(F,D,U,!1,null,"37c9ad23",null)),A=J.exports;a["default"].use(R["a"]);var B=new R["a"]({base:"/",routes:[{path:"/transactionHeader/:site/:processId/:bsId",name:"transactionHeader",component:$},{path:"/transactionLines/:site/:processId/:bsId",name:"transactionLines",component:A}]}),Q=r("2f62");a["default"].use(Q["a"]);var q=new Q["a"].Store({state:{},mutations:{},actions:{}});a["default"].config.productionTip=!1,a["default"].use(P.a),new a["default"]({router:B,store:q,render:function(e){return e(I)}}).$mount("#app")},"3b34":function(e,t,r){"use strict";var a=r("bc85"),n=r.n(a);n.a},4:function(e,t,r){e.exports=r("1fb7")},"6c24":function(e,t,r){},"8b6a":function(e,t,r){"use strict";var a=r("8dd2"),n=r.n(a);n.a},"8dd2":function(e,t,r){},"9aac":function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));r("99af"),r("d3b7"),r("96cf");var a=r("9f12"),n=r("53fe"),s=r("0964"),i=r("1157"),c=r.n(i),o=r("98fc"),u=r.n(o),l=function(){function e(t,r){Object(a["a"])(this,e),this.hostname=t,this.prefSvc=r||new s["a"]}return Object(n["a"])(e,[{key:"getTransaction",value:function(e,t){var r;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,regeneratorRuntime.awrap(this.getHeaderUrl(e,t));case 2:return r=a.sent,a.abrupt("return",new Promise((function(e,t){c.a.ajax({url:r,success:function(t){e(t)}})})));case 4:case"end":return a.stop()}}),null,this)}},{key:"getTransactionLines",value:function(e,t){var r;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,regeneratorRuntime.awrap(this.getLinesUrl(e,t));case 2:return r=a.sent,a.abrupt("return",new Promise((function(e,t){c.a.ajax({url:r,success:function(t){e(t)}})})));case 4:case"end":return a.stop()}}),null,this)}},{key:"getHeaderUrl",value:function(e,t){var r;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:if("localhost"!==this.hostname){a.next=4;break}return a.abrupt("return","http://localhost:8080/test_data/header_".concat(e,".json"));case 4:return a.next=6,regeneratorRuntime.awrap(this.prefSvc.getProcessDetails(t,this.hostname));case 6:return r=a.sent,a.abrupt("return","https://".concat(this.hostname,".bigmachines.com/rest/v6/commerceDocuments").concat(this.capitalize(r.processVarName)).concat(this.capitalize(r.transactionVarName),"/").concat(e));case 8:case"end":return a.stop()}}),null,this)}},{key:"getLinesUrl",value:function(e,t){var r;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:if("localhost"!==this.hostname){a.next=4;break}return a.abrupt("return","http://localhost:8080/test_data/transactionLines_".concat(e,".json"));case 4:return a.next=6,regeneratorRuntime.awrap(this.prefSvc.getProcessDetails(t,this.hostname));case 6:return r=a.sent,a.abrupt("return","https://".concat(this.hostname,".bigmachines.com/rest/v6/commerceDocuments").concat(this.capitalize(r.processVarName)).concat(this.capitalize(r.transactionVarName),"/").concat(e,"/").concat(r.transactionLineVarName));case 8:case"end":return a.stop()}}),null,this)}},{key:"getTransactionHistoryUrl",value:function(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:if("localhost"!==this.hostname){t.next=4;break}return t.abrupt("return","http://localhost:8080/test_data/history_".concat(e,".xml"));case 4:return t.abrupt("return","https://".concat(this.hostname,".bigmachines.com/admin/commerce/views/preview_xml.jsp?bs_id=").concat(e,"&view_type=history"));case 5:case"end":return t.stop()}}),null,this)}},{key:"getTransactionHistory",value:function(e){var t;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(this.getTransactionHistoryUrl(e));case 2:return t=r.sent,r.abrupt("return",new Promise((function(e,r){c.a.ajax({url:t,success:function(t){var r=new u.a;e(r.dom2js(t))}})})));case 4:case"end":return r.stop()}}),null,this)}},{key:"capitalize",value:function(e){return e?"".concat(e.substring(0,1).toUpperCase()).concat(e.substring(1,e.length)):e}}]),e}()},a180:function(e,t,r){"use strict";var a=r("ea63"),n=r.n(a);n.a},bc85:function(e,t,r){},cf05:function(e,t,r){e.exports=r.p+"img/logo.cd2c695a.png"},ea63:function(e,t,r){},efd1:function(e,t,r){"use strict";var a=r("6c24"),n=r.n(a);n.a}});
//# sourceMappingURL=transaction_viewer.c7e08109.js.map